import { Button, Menu, MenuButton, MenuItem, MenuList } from "@chakra-ui/react";
import React from "react";
import { FcNext, FcPrevious } from "react-icons/fc";
import { useDispatch, useSelector } from "react-redux";
import { RootState } from "../redux/store";
import { toggleLanguage } from "../redux/features/languageSlice";

const LanguageToggle = () => {
  const dispatch = useDispatch();
  const language = useSelector((state: RootState) => state.language.language);

  const handleToggle = () => {
    dispatch(toggleLanguage());
  };

  return (
    <div>
      <Menu placement="left">
        {({ isOpen }) => (
          <>
            <MenuButton
              padding={2}
              isActive={isOpen}
              as={Button}
              leftIcon={
                isOpen ? <FcNext className="text-customRed" /> : <FcPrevious />
              }
            >
              {language === "en" ? (
                <p className="flex gap-2 text-sm">
                  English
                  <svg
                    className="h-5 w-5"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 64 64"
                    style={{ background: "new 0 0 64 64" }}
                    xmlSpace="preserve"
                  >
                    <circle style={{ fill: "#fff" }} cx="32" cy="32" r="32" />
                    <path
                      style={{ fill: "#c64252" }}
                      d="M32 0a31.842 31.842 0 0 1 16.185 4.398H27.55V.315A32.17 32.17 0 0 1 32 0zm-4.45 34.511h36.343c.064-.829.107-1.665.107-2.511s-.043-1.682-.107-2.511H27.55v5.022zm0-20.074h31.196a32.138 32.138 0 0 0-4.073-5.017H27.55v5.017zm0 10.045h35.553a31.699 31.699 0 0 0-1.661-5.033H27.55v5.033zM32 64a31.84 31.84 0 0 0 16.185-4.398h-32.37A31.84 31.84 0 0 0 32 64zM2.558 44.551h58.885a31.705 31.705 0 0 0 1.657-5.017H.9c.418 1.73.971 3.408 1.658 5.017zM9.327 54.58h45.346a32.138 32.138 0 0 0 4.073-5.017H5.254a32.138 32.138 0 0 0 4.073 5.017z"
                    />
                    <path
                      style={{ fill: "#2b497a" }}
                      d="M7.657 11.241a32.028 32.028 0 0 0-4.794 7.532l.343 1.069h1.466l-1.185.854.446 1.389-1.172-.867-1.185.867.031-.096a31.864 31.864 0 0 0-1.565 8.392l-.009.362C.016 31.161 0 31.579 0 32c0 .846.043 1.682.107 2.511H27.55V.315a31.794 31.794 0 0 0-4.045.834l.36 1.12h1.466l-1.185.854.459 1.402-1.185-.867-1.185.854.459-1.389-1.185-.854h1.466l.342-1.066a31.803 31.803 0 0 0-7.096 2.963l-.211.121a32.128 32.128 0 0 0-4.109 2.82l-.456.374a32.076 32.076 0 0 0-3.557 3.495M3.933 29.12l-1.172-.867-1.185.854.446-1.389-1.172-.854h1.453l.459-1.389.446 1.389h1.466l-1.185.854.444 1.402zm4.142 3.504-1.185-.853-1.185.854.459-1.402-1.185-.854h1.453l.459-1.376.446 1.389h1.466l-1.185.854.457 1.388zm-.459-8.41.459 1.376-1.185-.854-1.186.854.459-1.389-1.185-.854h1.453l.459-1.389.446 1.402h1.466l-1.186.854zm0-7.035.459 1.402-1.185-.867-1.185.854.459-1.389-1.185-.854h1.453l.459-1.389.446 1.389h1.466l-1.187.854zm4.588 11.941-1.185-.867-1.172.854.446-1.389-1.185-.854h1.478l.433-1.389.459 1.389h1.453l-1.172.854.445 1.402zm-.446-8.424.446 1.389-1.185-.867-1.172.867.446-1.402-1.186-.853h1.478l.433-1.376.459 1.389h1.453l-1.172.853zm0-7.034.446 1.402-1.185-.867-1.172.854.446-1.389-1.185-.854h1.478l.433-1.389.459 1.389h1.453l-1.173.854zm4.575 18.962-1.185-.854-1.172.854.446-1.402-1.172-.854h1.453l.446-1.376.459 1.389h1.453l-1.172.854.444 1.389zm-.446-8.41.446 1.376-1.185-.854-1.172.854.446-1.389-1.172-.854h1.453l.446-1.389.459 1.402h1.453l-1.174.854zm0-7.035.446 1.402-1.185-.867-1.172.854.446-1.389-1.172-.854h1.453l.446-1.389.459 1.389h1.453l-1.174.854zm0-7.022.446 1.389-1.185-.867-1.172.867.446-1.402-1.172-.854h1.453l.446-1.389.459 1.402h1.453l-1.174.854zm4.575 18.963-1.172-.867-1.185.854.446-1.389-1.172-.854h1.453l.459-1.389.446 1.389h1.466l-1.185.854.444 1.402zm-.446-8.424.446 1.389-1.172-.867-1.185.867.446-1.402-1.172-.854h1.453l.459-1.376.446 1.389h1.466l-1.187.854zm0-7.034.446 1.402-1.172-.867-1.185.854.446-1.389-1.172-.854h1.453l.459-1.389.446 1.389h1.466l-1.187.854zm0-7.022.446 1.389-1.172-.854-1.185.854.445-1.389-1.172-.854h1.453l.459-1.389.446 1.389h1.466l-1.186.854zm4.587 25.984-1.185-.854-1.185.854.459-1.402-1.185-.854h1.466l.446-1.376.446 1.389h1.466l-1.185.854.457 1.389zm-.458-8.41.459 1.376-1.185-.854-1.185.854.459-1.389-1.185-.854h1.466l.446-1.389.446 1.402h1.466l-1.187.854zm0-7.035.459 1.402-1.185-.867-1.185.854.459-1.389-1.185-.854h1.466l.446-1.389.446 1.389h1.466l-1.187.854zm0-7.022.459 1.389-1.185-.867-1.185.867.459-1.402-1.185-.854h1.466l.446-1.389.446 1.402h1.466l-1.187.854z"
                    />
                  </svg>
                </p>
              ) : (
                <p className="flex gap-2 text-sm">
                  বাংলা
                  <svg
                    className="h-5 w-5"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 64 64"
                    style={{ background: "new 0 0 64 64" }}
                    xmlSpace="preserve"
                  >
                    <path
                      style={{ fill: "#067f5a" }}
                      d="M32 0C14.327 0 0 14.327 0 32s14.327 32 32 32 32-14.327 32-32S49.673 0 32 0z"
                    />
                    <circle
                      transform="rotate(-13.286 26.418 31.994)"
                      style={{ fill: "#e5284c" }}
                      cx="26.424"
                      cy="32"
                      r="19.782"
                    />
                  </svg>
                </p>
              )}
            </MenuButton>
            <MenuList minWidth={30} padding={1} className="space-y-1">
              <MenuItem
                className="flex gap-2 items-center justify-between h-5 text-sm"
                onClick={handleToggle}
              >
                English
                <svg
                  className="h-5 w-5"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 64 64"
                  style={{ background: "new 0 0 64 64" }}
                  xmlSpace="preserve"
                >
                  <circle style={{ fill: "#fff" }} cx="32" cy="32" r="32" />
                  <path
                    style={{ fill: "#c64252" }}
                    d="M32 0a31.842 31.842 0 0 1 16.185 4.398H27.55V.315A32.17 32.17 0 0 1 32 0zm-4.45 34.511h36.343c.064-.829.107-1.665.107-2.511s-.043-1.682-.107-2.511H27.55v5.022zm0-20.074h31.196a32.138 32.138 0 0 0-4.073-5.017H27.55v5.017zm0 10.045h35.553a31.699 31.699 0 0 0-1.661-5.033H27.55v5.033zM32 64a31.84 31.84 0 0 0 16.185-4.398h-32.37A31.84 31.84 0 0 0 32 64zM2.558 44.551h58.885a31.705 31.705 0 0 0 1.657-5.017H.9c.418 1.73.971 3.408 1.658 5.017zM9.327 54.58h45.346a32.138 32.138 0 0 0 4.073-5.017H5.254a32.138 32.138 0 0 0 4.073 5.017z"
                  />
                  <path
                    style={{ fill: "#2b497a" }}
                    d="M7.657 11.241a32.028 32.028 0 0 0-4.794 7.532l.343 1.069h1.466l-1.185.854.446 1.389-1.172-.867-1.185.867.031-.096a31.864 31.864 0 0 0-1.565 8.392l-.009.362C.016 31.161 0 31.579 0 32c0 .846.043 1.682.107 2.511H27.55V.315a31.794 31.794 0 0 0-4.045.834l.36 1.12h1.466l-1.185.854.459 1.402-1.185-.867-1.185.854.459-1.389-1.185-.854h1.466l.342-1.066a31.803 31.803 0 0 0-7.096 2.963l-.211.121a32.128 32.128 0 0 0-4.109 2.82l-.456.374a32.076 32.076 0 0 0-3.557 3.495M3.933 29.12l-1.172-.867-1.185.854.446-1.389-1.172-.854h1.453l.459-1.389.446 1.389h1.466l-1.185.854.444 1.402zm4.142 3.504-1.185-.853-1.185.854.459-1.402-1.185-.854h1.453l.459-1.376.446 1.389h1.466l-1.185.854.457 1.388zm-.459-8.41.459 1.376-1.185-.854-1.186.854.459-1.389-1.185-.854h1.453l.459-1.389.446 1.402h1.466l-1.186.854zm0-7.035.459 1.402-1.185-.867-1.185.854.459-1.389-1.185-.854h1.453l.459-1.389.446 1.389h1.466l-1.187.854zm4.588 11.941-1.185-.867-1.172.854.446-1.389-1.185-.854h1.478l.433-1.389.459 1.389h1.453l-1.172.854.445 1.402zm-.446-8.424.446 1.389-1.185-.867-1.172.867.446-1.402-1.186-.853h1.478l.433-1.376.459 1.389h1.453l-1.172.853zm0-7.034.446 1.402-1.185-.867-1.172.854.446-1.389-1.185-.854h1.478l.433-1.389.459 1.389h1.453l-1.173.854zm4.575 18.962-1.185-.854-1.172.854.446-1.402-1.172-.854h1.453l.446-1.376.459 1.389h1.453l-1.172.854.444 1.389zm-.446-8.41.446 1.376-1.185-.854-1.172.854.446-1.389-1.172-.854h1.453l.446-1.389.459 1.402h1.453l-1.174.854zm0-7.035.446 1.402-1.185-.867-1.172.854.446-1.389-1.172-.854h1.453l.446-1.389.459 1.389h1.453l-1.174.854zm0-7.022.446 1.389-1.185-.867-1.172.867.446-1.402-1.172-.854h1.453l.446-1.389.459 1.402h1.453l-1.174.854zm4.575 18.963-1.172-.867-1.185.854.446-1.389-1.172-.854h1.453l.459-1.389.446 1.389h1.466l-1.185.854.444 1.402zm-.446-8.424.446 1.389-1.172-.867-1.185.867.446-1.402-1.172-.854h1.453l.459-1.376.446 1.389h1.466l-1.187.854zm0-7.034.446 1.402-1.172-.867-1.185.854.446-1.389-1.172-.854h1.453l.459-1.389.446 1.389h1.466l-1.187.854zm0-7.022.446 1.389-1.172-.854-1.185.854.445-1.389-1.172-.854h1.453l.459-1.389.446 1.389h1.466l-1.186.854zm4.587 25.984-1.185-.854-1.185.854.459-1.402-1.185-.854h1.466l.446-1.376.446 1.389h1.466l-1.185.854.457 1.389zm-.458-8.41.459 1.376-1.185-.854-1.185.854.459-1.389-1.185-.854h1.466l.446-1.389.446 1.402h1.466l-1.187.854zm0-7.035.459 1.402-1.185-.867-1.185.854.459-1.389-1.185-.854h1.466l.446-1.389.446 1.389h1.466l-1.187.854zm0-7.022.459 1.389-1.185-.867-1.185.867.459-1.402-1.185-.854h1.466l.446-1.389.446 1.402h1.466l-1.187.854z"
                  />
                </svg>
              </MenuItem>
              <MenuItem
                className="flex gap-2 items-center justify-between h-5 text-sm"
                onClick={handleToggle}
              >
                বাংলা
                <svg
                  className="h-5 w-5"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 64 64"
                  style={{ background: "new 0 0 64 64" }}
                  xmlSpace="preserve"
                >
                  <path
                    style={{ fill: "#067f5a" }}
                    d="M32 0C14.327 0 0 14.327 0 32s14.327 32 32 32 32-14.327 32-32S49.673 0 32 0z"
                  />
                  <circle
                    transform="rotate(-13.286 26.418 31.994)"
                    style={{ fill: "#e5284c" }}
                    cx="26.424"
                    cy="32"
                    r="19.782"
                  />
                </svg>
              </MenuItem>
            </MenuList>
          </>
        )}
      </Menu>
    </div>
  );
};
export default LanguageToggle;
